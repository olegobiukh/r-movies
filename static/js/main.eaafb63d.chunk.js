(this["webpackJsonpr-movies"]=this["webpackJsonpr-movies"]||[]).push([[0],{54:function(n,t,e){n.exports=e(82)},59:function(n,t,e){},82:function(n,t,e){"use strict";e.r(t),e.d(t,"GlobalStyle",(function(){return Nn}));var r={};e.r(r),e.d(r,"requestData",(function(){return d})),e.d(r,"setIsLoaded",(function(){return s})),e.d(r,"getMovies",(function(){return f})),e.d(r,"getGenres",(function(){return m}));var a=e(6),c=e(0),i=e.n(c),u=e(25),o=e.n(u),l=(e(59),e(11)),d=function(){return{type:"REQUEST_DATA"}},s=function(n){return{type:"IS_LOADED",payload:n}},f=function(n){return{type:"GET_MOVIES",payload:n.data.results}},m=function(n){return{type:"GET_GENRES",payload:n.data.genres}},p=e(15),b=e(13),g=e(22),v=e(28),O=e(23),h=e(5);function j(){var n=Object(a.a)(["\n  padding: 10px;\n"]);return j=function(){return n},n}function E(){var n=Object(a.a)(["\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  border: 1px solid red;\n  padding: 10px;\n"]);return E=function(){return n},n}function x(){var n=Object(a.a)(["\n  color: #3f51b5;\n  font-weight: 500;\n"]);return x=function(){return n},n}function w(){var n=Object(a.a)(["\n  color: #3f51b5;\n"]);return w=function(){return n},n}var y=h.default.h2(w()),S=h.default.span(x()),k=h.default.article(E()),_=h.default.div(j()),G=function(n){var t=n.item,e=n.allGenres,r=n.isLoaded,a=JSON.parse(localStorage.getItem("watchlist"))||[],u=Object(c.useState)(a),o=Object(O.a)(u,2),l=o[0],d=o[1],s=r&&t.genre_ids.map((function(n){return e.find((function(t){return t.id===n}))})).map((function(n){return n.name}));return i.a.createElement(k,null,i.a.createElement("img",{src:"https://image.tmdb.org/t/p/w154".concat(t.poster_path),alt:"brad pitt"}),i.a.createElement(_,null,i.a.createElement(b.b,{to:"m".concat(t.id)},i.a.createElement(y,null,t.title)),i.a.createElement("p",{className:"title"},i.a.createElement(S,null,"Genre"),": ",r&&s.join(", ")),i.a.createElement("button",{onClick:function(){var n=l.includes(t.id)?a.filter((function(n){return n!==t.id})):[].concat(Object(v.a)(l),[t.id]);localStorage.setItem("watchlist",JSON.stringify(n)),d(n)}},l.includes(t.id)?"Remove from watch list":"Add to watch list")))};function I(){var n=Object(a.a)(["\n\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr;\n  grid-gap: 20px;\n  padding: 20px 0;\n  @media (max-width: 1200px) {\n    grid-template-columns: 1fr 1fr;\n  }\n  @media (max-width: 786px) {\n    grid-template-columns: 1fr;\n  }\n"]);return I=function(){return n},n}var L=h.default.article(I()),N=Object(l.b)((function(n){return n}),r)((function(n){var t=n.movies,e=n.genres,r=n.isLoaded;return i.a.createElement(L,null,r&&t.map((function(n){return i.a.createElement(G,{key:Object(g.a)(),item:n,allGenres:e,isLoaded:r})})))}));function D(){var n=Object(a.a)(["\n  justify-self: end;\n  padding: 5px;\n"]);return D=function(){return n},n}function A(){var n=Object(a.a)(["\n  color: #3f51b5;\n  text-transform: capitalize;\n  text-align: center;\n  @media (max-width: 786px) {\n    display: none;\n  }\n"]);return A=function(){return n},n}function J(){var n=Object(a.a)(["\n  display: grid;\n  grid-auto-flow: column;\n  justify-content: space-between;\n  align-items: baseline;\n  @media (max-width: 786px) {\n    grid-template-columns: auto;\n  }\n"]);return J=function(){return n},n}var T=h.default.header(J()),R=h.default.h1(A()),z=(h.default.input(D()),function(){return i.a.createElement(T,null,i.a.createElement(b.b,{to:"/watchlist"},"Watch list"),i.a.createElement(R,null,"popular movies"))});function M(){var n=Object(a.a)(["\n  display: grid;\n  max-width: 1200px;\n  margin: auto;\n  width: 90%;\n  padding: 20px 0;\n"]);return M=function(){return n},n}var U=h.default.div(M()),W=function(){return i.a.createElement(U,null,i.a.createElement(z,null),i.a.createElement(N,null))};function C(){var n=Object(a.a)(["\n  display: grid;\n  grid-auto-flow: column;\n  justify-content: space-between;\n  align-items: baseline;\n  margin-bottom: 10px;\n  border-bottom: 1px solid red;\n"]);return C=function(){return n},n}function q(){var n=Object(a.a)([""]);return q=function(){return n},n}function B(){var n=Object(a.a)(["\n  max-width: 1200px;\n  margin: auto;\n  width: 90%;\n"]);return B=function(){return n},n}var Q=h.default.div(B()),V=h.default.h2(q()),F=h.default.div(C()),$=function(n){var t=n.title,e=n.children;return i.a.createElement(Q,null,i.a.createElement(F,null,i.a.createElement(V,null,t),i.a.createElement(b.b,{to:"/"},"to Main page")),e)};function H(){var n=Object(a.a)(["\n  border: 4px solid blue;\n  background-color: blue;\n  color: white;\n  border-radius: 9px;\n  cursor: pointer;\n  transition: all 0.5s;\n  &:hover {\n    background-color: transparent;\n    color: blue;\n  }\n"]);return H=function(){return n},n}function K(){var n=Object(a.a)(["\n  display: grid;\n  grid-auto-flow: column;\n  justify-content: space-between;\n  max-width: 1200px;\n  padding: 10px;\n  margin: auto;\n"]);return K=function(){return n},n}var P=h.default.li(K()),X=(h.default.button(H()),Object(l.b)((function(n){return n}),r)((function(n){var t=n.movies,e=JSON.parse(localStorage.getItem("watchlist"))||[],r=Object(c.useState)(e),a=Object(O.a)(r,2),u=a[0],o=a[1],l=u.length>0?t.filter((function(n){return u.includes(n.id)})).map((function(n){return i.a.createElement(P,{key:Object(g.a)()},n.title,i.a.createElement("button",{type:"text",onClick:function(){return function(n){var t=u.filter((function(t){return t!==n}));localStorage.setItem("watchlist",JSON.stringify(t)),o(t)}(n.id)}},"Delete"))})):"No movies added";return i.a.createElement($,{title:"Watch list"},l)})));function Y(){var n=Object(a.a)(["\n  cursor: pointer;\n  transition: all 0.5s;\n  &:hover {\n    color: blue;\n  }\n"]);return Y=function(){return n},n}function Z(){var n=Object(a.a)(["\n  display: grid;\n  grid-auto-flow: column;\n  justify-content: space-between;\n  align-items: baseline;\n  margin-bottom: 10px;\n  border-bottom: 1px solid red;\n"]);return Z=function(){return n},n}function nn(){var n=Object(a.a)([""]);return nn=function(){return n},n}function tn(){var n=Object(a.a)(["\n  margin-bottom: 30px;\n"]);return tn=function(){return n},n}function en(){var n=Object(a.a)(["\n  padding: 20px;\n  font-size: 20px;\n"]);return en=function(){return n},n}function rn(){var n=Object(a.a)(["\n  display: grid;\n  grid-auto-flow: column;\n  grid-template-column: 1fr 1fr;\n  border: 2px solid red;\n  padding: 10px;\n"]);return rn=function(){return n},n}function an(){var n=Object(a.a)(["\n  max-width: 1200px;\n  margin: auto;\n  width: 90%;\n"]);return an=function(){return n},n}h.default.div(an());var cn=h.default.div(rn()),un=h.default.div(en()),on=h.default.p(tn()),ln=(h.default.h2(nn()),h.default.div(Z()),h.default.button(Y())),dn=[{url:"/",component:W},{url:"/watchlist",component:X},{url:"/m:id",component:Object(l.b)((function(n){return n}),r)((function(n){var t=n.match,e=n.movies,r=n.genres,a=n.isLoaded,u=JSON.parse(localStorage.getItem("watchlist"))||[],o=Object(c.useState)(u),l=Object(O.a)(o,2),d=l[0],s=l[1],f=+t.params.id,m=e.find((function(n){return n.id===f})),p=a?m.genre_ids.map((function(n){return r.find((function(t){return t.id===n}))})).map((function(n){return n.name})).join(", "):"";return m?i.a.createElement($,{title:m.title},i.a.createElement(cn,null,i.a.createElement("img",{src:"https://image.tmdb.org/t/p/w300".concat(m.poster_path),alt:m.title}),i.a.createElement(un,null,i.a.createElement(on,null,i.a.createElement("strong",null,"Overview:")," ",m.overview),i.a.createElement(on,null,i.a.createElement("strong",null,"Genres:")," ",p),i.a.createElement(ln,{text:"button",onClick:function(){var n=d.includes(m.id)?u.filter((function(n){return n!==m.id})):[].concat(Object(v.a)(d),[m.id]);localStorage.setItem("watchlist",JSON.stringify(n)),s(n)}},d.includes(f)?"Remove from watchlist":"Add to watchlist")))):i.a.createElement("p",null,"Loading...")}))}];var sn=Object(l.b)((function(n){return n}),r)((function(n){var t=n.requestData;Object(c.useEffect)((function(){t()}),[t]);var e=dn.map((function(n){return i.a.createElement(p.a,{key:Object(g.a)(),exact:!0,path:n.url,component:n.component})}));return i.a.createElement(b.a,null,i.a.createElement(p.c,null,e))})),fn=e(50);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var mn=e(18),pn=e(53),bn=e(20),gn={movies:[],genres:{},isLoaded:!1},vn=e(16),On=e.n(vn),hn=e(19),jn=e(51),En=e(52),xn=e.n(En),wn=function(){var n=Object(jn.a)(On.a.mark((function n(t){var e,r;return On.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,e=xn.a.get("https://api.themoviedb.org/3/"+t),n.next=4,e;case 4:return r=n.sent,n.abrupt("return",r);case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(t){return n.apply(this,arguments)}}(),yn=On.a.mark(kn),Sn=On.a.mark(_n);function kn(n){var t,e;return On.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(hn.a)((function(){return wn("discover/movie?sort_by=popularity.desc&api_key=98135c4d3cc392347281f8d007876760&language=en-US&page=1")}));case 3:return t=n.sent,n.next=6,Object(hn.a)((function(){return wn("genre/movie/list?api_key=98135c4d3cc392347281f8d007876760&language=en-US")}));case 6:return e=n.sent,n.next=9,Object(hn.b)(f(t));case 9:return n.next=11,Object(hn.b)(m(e));case 11:return n.next=13,Object(hn.b)(s(!0));case 13:n.next=18;break;case 15:n.prev=15,n.t0=n.catch(0),console.log(n.t0);case 18:case"end":return n.stop()}}),yn,null,[[0,15]])}function _n(){return On.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(hn.c)("REQUEST_DATA",kn);case 2:case"end":return n.stop()}}),Sn)}var Gn=Object(pn.a)(),In=Object(mn.d)((function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_MOVIES":return Object(bn.a)(Object(bn.a)({},n),{},{movies:t.payload});case"GET_GENRES":return Object(bn.a)(Object(bn.a)({},n),{},{genres:t.payload});case"IS_LOADED":return Object(bn.a)(Object(bn.a)({},n),{},{isLoaded:t.payload});default:return n}}),Object(mn.a)(Gn));function Ln(){var n=Object(a.a)(["\n  ","\n \n  * {\n    padding: 0;\n    maring: 0;\n    box-sizing: border-box;\n  }\n  "]);return Ln=function(){return n},n}Gn.run(_n);var Nn=Object(h.createGlobalStyle)(Ln(),fn.normalize);o.a.render(i.a.createElement(i.a.Fragment,null,i.a.createElement(Nn,null),i.a.createElement(l.a,{store:In},i.a.createElement(sn,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()})).catch((function(n){console.error(n.message)}))}},[[54,1,2]]]);
//# sourceMappingURL=main.eaafb63d.chunk.js.map