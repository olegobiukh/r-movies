(this["webpackJsonpr-movies"]=this["webpackJsonpr-movies"]||[]).push([[0],{46:function(n,t,e){n.exports=e(72)},72:function(n,t,e){"use strict";e.r(t);var r=e(2),a=e(0),c=e.n(a),o=e(39),i=e.n(o),u=e(6),l=e(3),d=Object(l.l)({movies:[],genres:[],total_pages:500,page:1,isLoaded:!0}),s=e(20),f=e.n(s),m=e(26),p=e(13),g=e(12),b=e(11),v=e(22),j=e(15),O=e(1);function h(){var n=Object(r.a)(["\n  padding: 10px;\n"]);return h=function(){return n},n}function x(){var n=Object(r.a)(["\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  border: 1px solid red;\n  padding: 10px;\n"]);return x=function(){return n},n}function w(){var n=Object(r.a)(["\n  color: #3f51b5;\n  font-weight: 500;\n"]);return w=function(){return n},n}function E(){var n=Object(r.a)(["\n  color: #3f51b5;\n"]);return E=function(){return n},n}var y=O.default.h2(E()),k=O.default.span(w()),S=O.default.article(x()),L=O.default.div(h()),_=function(n){var t=n.item,e=n.allGenres,r=JSON.parse(localStorage.getItem("watchlist"))||[],o=Object(a.useState)(r),i=Object(j.a)(o,2),u=i[0],l=i[1],d=e.length>0&&t.genre_ids.map((function(n){return e.find((function(t){return t.id===n}))})).map((function(n){return n.name}));return c.a.createElement(S,null,c.a.createElement("img",{src:"https://image.tmdb.org/t/p/w154".concat(t.poster_path),alt:t.title}),c.a.createElement(L,null,c.a.createElement(g.b,{to:"m".concat(t.id)},c.a.createElement(y,null,t.title)),c.a.createElement("p",{className:"title"},c.a.createElement(k,null,"Genre"),": ",d&&d.join(", ")),c.a.createElement("button",{onClick:function(){var n=u.some((function(n){return n.id===t.id}))?r.filter((function(n){return n.id!==t.id})):[].concat(Object(v.a)(u),[{id:t.id,title:t.title}]);localStorage.setItem("watchlist",JSON.stringify(n)),l(n)}},u.some((function(n){return n.id===t.id}))?"Remove from watch list":"Add to watch list")))};function J(){var n=Object(r.a)(["\n\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr;\n  grid-gap: 20px;\n  padding: 20px 0;\n  @media (max-width: 1200px) {\n    grid-template-columns: 1fr 1fr;\n  }\n  @media (max-width: 786px) {\n    grid-template-columns: 1fr;\n  }\n"]);return J=function(){return n},n}var N=O.default.article(J()),I=Object(u.b)("store")(Object(u.c)((function(n){var t=n.store,e=t.movies,r=t.genres;return c.a.createElement(N,null,e&&e.map((function(n){return c.a.createElement(_,{key:Object(b.a)(),item:n,allGenres:r})})))})));function C(){var n=Object(r.a)(["\n  justify-self: end;\n  padding: 5px;\n"]);return C=function(){return n},n}function G(){var n=Object(r.a)(["\n  color: #3f51b5;\n  text-transform: capitalize;\n  text-align: center;\n  @media (max-width: 786px) {\n    display: none;\n  }\n"]);return G=function(){return n},n}function z(){var n=Object(r.a)(["\n  display: grid;\n  grid-auto-flow: column;\n  justify-content: space-between;\n  align-items: baseline;\n  @media (max-width: 786px) {\n    grid-template-columns: auto;\n  }\n"]);return z=function(){return n},n}var W=O.default.header(z()),A=O.default.h1(G()),B=(O.default.input(C()),function(){return c.a.createElement(W,null,c.a.createElement(g.b,{to:"/watchlist"},"Watch list"),c.a.createElement(A,null,"movies"))});function R(){var n=Object(r.a)(["\n  display: grid;\n  max-width: 1200px;\n  margin: auto;\n  width: 90%;\n  padding: 20px 0;\n"]);return R=function(){return n},n}var U=O.default.div(R());function D(){var n=Object(r.a)(["\n  display: grid;\n  grid-auto-flow: column;\n  justify-content: flex-start;\n  grid-gap: 5px;\n"]);return D=function(){return n},n}function F(){var n=Object(r.a)(["\n      background: #f4f4f4;\n    "]);return F=function(){return n},n}function M(){var n=Object(r.a)(["\n      background: #f44336;\n      color: #fff;\n    "]);return M=function(){return n},n}function $(){var n=Object(r.a)(["\n      opacity: 0.7;\n      pointer-events: none;\n    "]);return $=function(){return n},n}function q(){var n=Object(r.a)(["\n        background: #f44336;\n      "]);return q=function(){return n},n}function H(){var n=Object(r.a)(["\n  border: none;\n  background: transparent;\n  cursor: pointer;\n  padding: 8px 16px;\n  border-radius: 5px;\n  &:hover {\n    background-color: #ddd;\n    ","\n  }\n  ","\n  ","\n  ","\n"]);return H=function(){return n},n}var K=O.default.button(H(),(function(n){return n.current&&Object(O.css)(q())}),(function(n){return!n.isLoaded&&Object(O.css)($())}),(function(n){return n.current&&Object(O.css)(M())}),(function(n){return(n.page>=4||n.isLast)&&Object(O.css)(F())})),P=O.default.div(D()),Q=Object(u.b)("store")(Object(u.c)((function(n){var t=n.store,e=t.page,r=t.total_pages,a=t.isLoaded,o=function(n){t.page=n},i=(e>1&&r>e?[e-1,e,e+1]:1===e?[1,2,3]:e===r?[r-2,r-1,r]:null).map((function(n){return c.a.createElement(K,{isLoaded:a,current:n===e,key:Object(b.a)(),onClick:function(){return o(n)}},n)})),u=e>2?c.a.createElement(K,{isLoaded:a,current:1===e,page:4,onClick:function(){return o(1)}},1):null,l=e<r-1?c.a.createElement(K,{isLoaded:a,current:e===r,isLast:e<r,onClick:function(){return o(r)}},r):null;return c.a.createElement(P,null,u,i,l)}))),T=function(){return c.a.createElement(U,null,c.a.createElement(B,null),c.a.createElement(Q,null),c.a.createElement(I,null))};function V(){var n=Object(r.a)(["\n  display: grid;\n  grid-auto-flow: column;\n  justify-content: space-between;\n  align-items: baseline;\n  margin-bottom: 10px;\n  border-bottom: 1px solid red;\n"]);return V=function(){return n},n}function X(){var n=Object(r.a)([""]);return X=function(){return n},n}function Y(){var n=Object(r.a)(["\n  max-width: 1200px;\n  margin: auto;\n  width: 90%;\n"]);return Y=function(){return n},n}var Z=O.default.div(Y()),nn=O.default.h2(X()),tn=O.default.div(V()),en=function(n){var t=n.title,e=n.children;return c.a.createElement(Z,null,c.a.createElement(tn,null,c.a.createElement(nn,null,t),c.a.createElement(g.b,{to:"/"},"to Main page")),e)};function rn(){var n=Object(r.a)(["\n  border: 4px solid blue;\n  background-color: blue;\n  color: white;\n  border-radius: 9px;\n  cursor: pointer;\n  transition: all 0.5s;\n  &:hover {\n    background-color: transparent;\n    color: blue;\n  }\n"]);return rn=function(){return n},n}function an(){var n=Object(r.a)(["\n  display: grid;\n  grid-auto-flow: column;\n  justify-content: space-between;\n  max-width: 1200px;\n  padding: 10px;\n  margin: auto;\n"]);return an=function(){return n},n}var cn=O.default.li(an()),on=(O.default.button(rn()),function(){var n=JSON.parse(localStorage.getItem("watchlist"))||[];console.log(n);var t=Object(a.useState)(n),e=Object(j.a)(t,2),r=e[0],o=e[1],i=r.length>0?r.map((function(n){return c.a.createElement(cn,{key:Object(b.a)()},n.title,c.a.createElement("button",{type:"text",onClick:function(){return function(n){var t=r.filter((function(t){return t.id!==n}));localStorage.setItem("watchlist",JSON.stringify(t)),o(t)}(n.id)}},"Delete"))})):"No movies added";return c.a.createElement(en,{title:"Watch list"},i)});function un(){var n=Object(r.a)(["\n  cursor: pointer;\n  transition: all 0.5s;\n  &:hover {\n    color: blue;\n  }\n"]);return un=function(){return n},n}function ln(){var n=Object(r.a)(["\n  display: grid;\n  grid-auto-flow: column;\n  justify-content: space-between;\n  align-items: baseline;\n  margin-bottom: 10px;\n  border-bottom: 1px solid red;\n"]);return ln=function(){return n},n}function dn(){var n=Object(r.a)([""]);return dn=function(){return n},n}function sn(){var n=Object(r.a)(["\n  margin-bottom: 30px;\n"]);return sn=function(){return n},n}function fn(){var n=Object(r.a)(["\n  padding: 20px;\n  font-size: 20px;\n"]);return fn=function(){return n},n}function mn(){var n=Object(r.a)(["\n  display: grid;\n  grid-auto-flow: column;\n  grid-template-column: 1fr 1fr;\n  border: 2px solid red;\n  padding: 10px;\n"]);return mn=function(){return n},n}function pn(){var n=Object(r.a)(["\n  max-width: 1200px;\n  margin: auto;\n  width: 90%;\n"]);return pn=function(){return n},n}O.default.div(pn());var gn=O.default.div(mn()),bn=O.default.div(fn()),vn=O.default.p(sn()),jn=(O.default.h2(dn()),O.default.div(ln()),O.default.button(un())),On=[{url:"/",component:T},{url:"/watchlist",component:on},{url:"/m:id",component:Object(u.b)("store")(Object(u.c)((function(n){var t=n.store,e=n.match,r=t.movies,o=t.genres;console.log(r),console.log(e.params.id);var i=JSON.parse(localStorage.getItem("watchlist"))||[],u=Object(a.useState)(i),l=Object(j.a)(u,2),d=l[0],s=l[1],f=+e.params.id,m=r.find((function(n){return n.id===f}));console.log(JSON.stringify(m));var p=r.length>0&&o.length>0?m.genre_ids.map((function(n){return o.find((function(t){return t.id===n}))})).map((function(n){return n.name})).join(", "):"";return m?c.a.createElement(en,{title:m.title},c.a.createElement(gn,null,c.a.createElement("img",{src:"https://image.tmdb.org/t/p/w300".concat(m.poster_path),alt:m.title}),c.a.createElement(bn,null,c.a.createElement(vn,null,c.a.createElement("strong",null,"Overview:")," ",m.overview),c.a.createElement(vn,null,c.a.createElement("strong",null,"Genres:")," ",p),c.a.createElement(jn,{text:"button",onClick:function(){var n=d.includes(m.id)?i.filter((function(n){return n.id!==m.id})):[].concat(Object(v.a)(d),[{id:m.id,title:m.title}]);localStorage.setItem("watchlist",JSON.stringify(n)),s(n)}},d.includes(f)?"Remove from watchlist":"Add to watchlist")))):c.a.createElement("p",null,"Loading...")})))}],hn=e(44),xn=e.n(hn),wn=Object(u.b)("store")(Object(u.c)((function(n){var t=n.store,e=function(){var n=Object(m.a)(f.a.mark((function n(){var e,a;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.isLoaded=!1,n.next=3,r("discover/movie?sort_by=popularity.desc&api_key=98135c4d3cc392347281f8d007876760&language=en-US&page=".concat(t.page));case 3:return e=n.sent,n.next=6,r("genre/movie/list?api_key=98135c4d3cc392347281f8d007876760&language=en-US");case 6:a=n.sent,t.movies=e.results,t.genres=a.genres,t.page=e.page,t.total_pages=e.total_pages,t.isLoaded=!0;case 12:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();Object(a.useEffect)((function(){e()}),[t.page]);var r=function(){var n=Object(m.a)(f.a.mark((function n(t){var e;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,xn.a.get("https://api.themoviedb.org/3/"+t);case 3:return e=n.sent,n.abrupt("return",e.data);case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(t){return n.apply(this,arguments)}}(),o=On.map((function(n){return c.a.createElement(p.a,{key:Object(b.a)(),exact:!0,path:n.url,component:n.component})}));return c.a.createElement(g.a,null,c.a.createElement(p.c,null,o))}))),En=e(45);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function yn(){var n=Object(r.a)(["\n  ","\n \n  * {\n    padding: 0;\n    maring: 0;\n    box-sizing: border-box;\n  }\n  "]);return yn=function(){return n},n}var kn=Object(O.createGlobalStyle)(yn(),En.normalize);i.a.render(c.a.createElement(c.a.Fragment,null,c.a.createElement(kn,null),c.a.createElement(u.a,{store:d},c.a.createElement(wn,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()})).catch((function(n){console.error(n.message)}))}},[[46,1,2]]]);
//# sourceMappingURL=main.4acb757b.chunk.js.map