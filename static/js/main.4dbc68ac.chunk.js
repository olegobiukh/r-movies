(this["webpackJsonpr-movies"]=this["webpackJsonpr-movies"]||[]).push([[0],{48:function(n,t,e){n.exports=e(76)},53:function(n,t,e){},76:function(n,t,e){"use strict";e.r(t),e.d(t,"GlobalStyle",(function(){return En}));var r={};e.r(r),e.d(r,"getMovies",(function(){return m})),e.d(r,"getAllGenres",(function(){return p}));var a=e(2),i=e(0),c=e.n(i),o=e(20),u=e.n(o),l=(e(53),e(18)),d=e.n(l),s=e(25),f=e(8),m=function(n){return{type:"GET_MOVIES",payload:n}},p=function(n){return{type:"GET_GENRES",payload:n}},g=e(12),b=e(10),v=e(15),h=e(23),O=e(16),j=e(1);function E(){var n=Object(a.a)(["\n  padding: 10px;\n"]);return E=function(){return n},n}function w(){var n=Object(a.a)(["\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  border: 1px solid red;\n  padding: 10px;\n"]);return w=function(){return n},n}function x(){var n=Object(a.a)(["\n  color: #3f51b5;\n  font-weight: 500;\n"]);return x=function(){return n},n}function y(){var n=Object(a.a)(["\n  color: #3f51b5;\n"]);return y=function(){return n},n}var S=j.default.h2(y()),k=j.default.span(x()),G=j.default.article(w()),N=j.default.div(E()),_=function(n){var t=n.item,e=n.allGenres,r=JSON.parse(localStorage.getItem("watchlist"))||[],a=Object(i.useState)(r),o=Object(O.a)(a,2),u=o[0],l=o[1],d=e.length>0&&t.genre_ids.map((function(n){return e.find((function(t){return t.id===n}))})).map((function(n){return n.name}));return c.a.createElement(G,null,c.a.createElement("img",{src:"https://image.tmdb.org/t/p/w154".concat(t.poster_path),alt:"brad pitt"}),c.a.createElement(N,null,c.a.createElement(b.b,{to:"m".concat(t.id)},c.a.createElement(S,null,t.title)),c.a.createElement("p",{className:"title"},c.a.createElement(k,null,"Genre"),": ",d&&d.join(", ")),c.a.createElement("button",{onClick:function(){var n=u.includes(t.id)?r.filter((function(n){return n!==t.id})):[].concat(Object(h.a)(u),[t.id]);localStorage.setItem("watchlist",JSON.stringify(n)),l(n)}},u.includes(t.id)?"Remove from watch list":"Add to watch list")))};function I(){var n=Object(a.a)(["\n\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr;\n  grid-gap: 20px;\n  padding: 20px 0;\n  @media (max-width: 1200px) {\n    grid-template-columns: 1fr 1fr;\n  }\n  @media (max-width: 786px) {\n    grid-template-columns: 1fr;\n  }\n"]);return I=function(){return n},n}var J=j.default.article(I()),M=Object(f.b)((function(n){return n}),r)((function(n){var t=n.movies,e=n.genres;return c.a.createElement(J,null,t&&t.map((function(n){return c.a.createElement(_,{key:Object(v.a)(),item:n,allGenres:e})})))}));function z(){var n=Object(a.a)(["\n  justify-self: end;\n  padding: 5px;\n"]);return z=function(){return n},n}function A(){var n=Object(a.a)(["\n  color: #3f51b5;\n  text-transform: capitalize;\n  text-align: center;\n  @media (max-width: 786px) {\n    display: none;\n  }\n"]);return A=function(){return n},n}function R(){var n=Object(a.a)(["\n  display: grid;\n  grid-auto-flow: column;\n  justify-content: space-between;\n  align-items: baseline;\n  @media (max-width: 786px) {\n    grid-template-columns: auto;\n  }\n"]);return R=function(){return n},n}var T=j.default.header(R()),W=j.default.h1(A()),C=(j.default.input(z()),function(){return c.a.createElement(T,null,c.a.createElement(b.b,{to:"/watchlist"},"Watch list"),c.a.createElement(W,null,"popular movies"))});function B(){var n=Object(a.a)(["\n  display: grid;\n  max-width: 1200px;\n  margin: auto;\n  width: 90%;\n  padding: 20px 0;\n"]);return B=function(){return n},n}var U=j.default.div(B()),V=function(){return c.a.createElement(U,null,c.a.createElement(C,null),c.a.createElement(M,null))};function D(){var n=Object(a.a)(["\n  display: grid;\n  grid-auto-flow: column;\n  justify-content: space-between;\n  align-items: baseline;\n  margin-bottom: 10px;\n  border-bottom: 1px solid red;\n"]);return D=function(){return n},n}function F(){var n=Object(a.a)([""]);return F=function(){return n},n}function L(){var n=Object(a.a)(["\n  max-width: 1200px;\n  margin: auto;\n  width: 90%;\n"]);return L=function(){return n},n}var $=j.default.div(L()),q=j.default.h2(F()),H=j.default.div(D()),K=function(n){var t=n.title,e=n.children;return c.a.createElement($,null,c.a.createElement(H,null,c.a.createElement(q,null,t),c.a.createElement(b.b,{to:"/"},"to Main page")),e)};function P(){var n=Object(a.a)(["\n  border: 4px solid blue;\n  background-color: blue;\n  color: white;\n  border-radius: 9px;\n  cursor: pointer;\n  transition: all 0.5s;\n  &:hover {\n    background-color: transparent;\n    color: blue;\n  }\n"]);return P=function(){return n},n}function Q(){var n=Object(a.a)(["\n  display: grid;\n  grid-auto-flow: column;\n  justify-content: space-between;\n  max-width: 1200px;\n  padding: 10px;\n  margin: auto;\n"]);return Q=function(){return n},n}var X=j.default.li(Q()),Y=(j.default.button(P()),Object(f.b)((function(n){return n}),r)((function(n){var t=n.movies,e=JSON.parse(localStorage.getItem("watchlist"))||[],r=Object(i.useState)(e),a=Object(O.a)(r,2),o=a[0],u=a[1],l=o.length>0?t.filter((function(n){return o.includes(n.id)})).map((function(n){return c.a.createElement(X,{key:Object(v.a)()},n.title,c.a.createElement("button",{type:"text",onClick:function(){return function(n){var t=o.filter((function(t){return t!==n}));localStorage.setItem("watchlist",JSON.stringify(t)),u(t)}(n.id)}},"Delete"))})):"No movies added";return c.a.createElement(K,{title:"Watch list"},l)})));function Z(){var n=Object(a.a)(["\n  cursor: pointer;\n  transition: all 0.5s;\n  &:hover {\n    color: blue;\n  }\n"]);return Z=function(){return n},n}function nn(){var n=Object(a.a)(["\n  display: grid;\n  grid-auto-flow: column;\n  justify-content: space-between;\n  align-items: baseline;\n  margin-bottom: 10px;\n  border-bottom: 1px solid red;\n"]);return nn=function(){return n},n}function tn(){var n=Object(a.a)([""]);return tn=function(){return n},n}function en(){var n=Object(a.a)(["\n  margin-bottom: 30px;\n"]);return en=function(){return n},n}function rn(){var n=Object(a.a)(["\n  padding: 20px;\n  font-size: 20px;\n"]);return rn=function(){return n},n}function an(){var n=Object(a.a)(["\n  display: grid;\n  grid-auto-flow: column;\n  grid-template-column: 1fr 1fr;\n  border: 2px solid red;\n  padding: 10px;\n"]);return an=function(){return n},n}function cn(){var n=Object(a.a)(["\n  max-width: 1200px;\n  margin: auto;\n  width: 90%;\n"]);return cn=function(){return n},n}j.default.div(cn());var on=j.default.div(an()),un=j.default.div(rn()),ln=j.default.p(en()),dn=(j.default.h2(tn()),j.default.div(nn()),j.default.button(Z())),sn=[{url:"/",component:V},{url:"/watchlist",component:Y},{url:"/m:id",component:Object(f.b)((function(n){return n}),r)((function(n){var t=n.match,e=n.movies,r=n.genres;console.log(t.params.id);var a=JSON.parse(localStorage.getItem("watchlist"))||[],o=Object(i.useState)(a),u=Object(O.a)(o,2),l=u[0],d=u[1],s=+t.params.id,f=e.find((function(n){return n.id===s}));console.log(JSON.stringify(r));var m=e.length>0&&r.length>0?f.genre_ids.map((function(n){return r.find((function(t){return t.id===n}))})).map((function(n){return n.name})).join(", "):"";return f?c.a.createElement(K,{title:f.title},c.a.createElement(on,null,c.a.createElement("img",{src:"https://image.tmdb.org/t/p/w300".concat(f.poster_path),alt:f.title}),c.a.createElement(un,null,c.a.createElement(ln,null,c.a.createElement("strong",null,"Overview:")," ",f.overview),c.a.createElement(ln,null,c.a.createElement("strong",null,"Genres:")," ",m),c.a.createElement(dn,{text:"button",onClick:function(){var n=l.includes(f.id)?a.filter((function(n){return n!==f.id})):[].concat(Object(h.a)(l),[f.id]);localStorage.setItem("watchlist",JSON.stringify(n)),d(n)}},l.includes(s)?"Remove from watchlist":"Add to watchlist")))):c.a.createElement("p",null,"Loading...")}))}],fn=e(46),mn=e.n(fn);var pn=Object(f.b)((function(n){return n}),r)((function(n){var t=n.getMovies,e=n.getAllGenres,r=function(){var n=Object(s.a)(d.a.mark((function n(){var r,i;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a("discover/movie?sort_by=popularity.desc&api_key=98135c4d3cc392347281f8d007876760&language=en-US&page=1");case 2:return r=n.sent,n.next=5,a("genre/movie/list?api_key=98135c4d3cc392347281f8d007876760&language=en-US");case 5:i=n.sent,t(r.results),e(i.genres);case 8:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();Object(i.useEffect)((function(){r()}),[]);var a=function(){var n=Object(s.a)(d.a.mark((function n(t){var e;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,mn.a.get("https://api.themoviedb.org/3/"+t);case 3:return e=n.sent,n.abrupt("return",e.data);case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(t){return n.apply(this,arguments)}}(),o=sn.map((function(n){return c.a.createElement(g.a,{key:Object(v.a)(),exact:!0,path:n.url,component:n.component})}));return c.a.createElement(b.a,null,c.a.createElement(g.c,null,o))})),gn=e(47);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var bn=e(21),vn=e(19),hn={movies:[],genres:{}},On=Object(bn.b)((function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_MOVIES":return Object(vn.a)(Object(vn.a)({},n),{},{movies:t.payload});case"GET_GENRES":return Object(vn.a)(Object(vn.a)({},n),{},{genres:t.payload});default:return n}}));function jn(){var n=Object(a.a)(["\n  ","\n \n  * {\n    padding: 0;\n    maring: 0;\n    box-sizing: border-box;\n  }\n  "]);return jn=function(){return n},n}var En=Object(j.createGlobalStyle)(jn(),gn.normalize);u.a.render(c.a.createElement(c.a.Fragment,null,c.a.createElement(En,null),c.a.createElement(f.a,{store:On},c.a.createElement(pn,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()})).catch((function(n){console.error(n.message)}))}},[[48,1,2]]]);
//# sourceMappingURL=main.4dbc68ac.chunk.js.map